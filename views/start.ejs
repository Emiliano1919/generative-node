<html lang="en">
    
<%- include("./partials/header.ejs") %>


<body>
  <%- include("./partials/nav.ejs") %>

  <div class="start content">
    <p>I just wanted to prove you I can write enough code to create a website. </p>
    <p >Such a shame hosting a dynamic website costs ;(</p>
    <h2 id="changing-color">This website was made with NodeJS, Express and P5js</h2>
    <div id="sketch-container"></div>
   <script>
    let x1, y1;
    let x2, y2;
    let x3, y3;
    let x4, y4;
    let offset = 0;
    let noiseOffset = 0;

    function setup() {
        let canvas = createCanvas(400, 400);
        canvas.parent('sketch-container'); 
        setInterval(changeColor, 500);
    }

    function draw() {
        // Clear background
        noFill();
        strokeWeight(1);
        stroke(0, 100);
        x1 = noise(offset + 50) * width;
        y1 = noise(offset + 10) * height;
        x2 = noise(offset + 15) * width;
        y2 = noise(offset + 20) * width;
        x3 = noise(offset + 250) * width + 20;
        y3 = noise(offset + 30) * height;
        x4 = noise(offset + 350) * width;
        y4 = noise(offset + 40) * height;

        bezier(x1, y1, x2, y2, x3, y3, x4, y4);
        offset += 0.01;
    }

    function changeColor() {
        let r = noise(noiseOffset) * 255;
        let g = noise(noiseOffset + 5) * 255;
        let b = noise(noiseOffset + 10) * 255;
        let randomColor = color(r, g, b);
        document.getElementById('changing-color').style.color = randomColor;
        noiseOffset += 0.01;
      }
    </script>
  </div>

  <%- include("./partials/footer.ejs") %>
</body>
</html>